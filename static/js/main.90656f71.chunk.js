(this["webpackJsonpslippi-stats"]=this["webpackJsonpslippi-stats"]||[]).push([[0],{102:function(e,n,t){"use strict";t.r(n),t.d(n,"findWinner",(function(){return r}));var r=function(e){return Object.keys(e.players).map((function(n){return e.players[n].post})).reduce((function(e,n){return e.stocksRemaining>n.stocksRemaining?e:e.stocksRemaining<n.stocksRemaining?n:e.percent<n.percent?e:e.percent>n.percent?n:e})).playerIndex}},109:function(e,n,t){e.exports=t.p+"static/media/obs.f3f8c219.png"},159:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return i}));var r=t(25),a=t.n(r),o=t(44),c=t(13);function i(e){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n);case 2:return t=e.sent,e.abrupt("return",d(n.name,t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return s.apply(this,arguments)}function s(){return(s=Object(o.a)(a.a.mark((function n(t){var r,o,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f(t);case 2:return r=n.sent,o=new Int8Array(r),i=e.from(o),n.abrupt("return",new c.SlippiGame(i));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(e,n){var t=n.getSettings();if(!t)throw new Error("Invalid SLP file. Could not find game settings in file: ".concat(e));return{filePath:e,settings:t,frames:n.getFrames(),stats:n.getStats(),metadata:n.getMetadata(),latestFrame:n.getLatestFrame(),gameEnd:n.getGameEnd()}}function f(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onabort=function(){return t("file reading was aborted")},r.onerror=function(){return t("file reading has failed")},r.readAsBinaryString?(r.addEventListener("load",(function(){for(var n=null!=this.resultString?this.resultString:this.result,t=new Uint8Array(n.length),r=0;r<n.length;r++)t[r]=n.charCodeAt(r);e(t.buffer)}),!1),r.readAsBinaryString(n)):(r.addEventListener("load",(function(){this.result?e(this.result):t("no data read")}),!1),r.readAsArrayBuffer(n))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,t(37).Buffer)},165:function(e,n,t){e.exports=t.p+"static/media/powered-by.61867ea8.png"},169:function(e,n,t){e.exports=t(357)},170:function(e,n,t){},195:function(e,n){},224:function(e,n){},226:function(e,n){},356:function(e,n,t){},357:function(e,n,t){"use strict";t.r(n);t(170);var r,a=t(0),o=t.n(a),c=t(152),i=t.n(c),u=t(166),l=t(24),s=t(9),d=t(14),f=t(6),m=t(13),b=t(10),g=t(11),p=t(13),h=p.stages,v=p.moves,O=p.characters,j=t(64),E=t(65),y=t(102).findWinner,C={OPENINGS_PER_KILL:"openingsPerKill",DAMAGE_PER_OPENING:"damagePerOpening",NEUTRAL_WINS:"neutralWins",KILL_MOVES:"killMoves",NEUTRAL_OPENER_MOVES:"neutralOpenerMoves",EARLY_KILLS:"earlyKills",LATE_DEATHS:"lateDeaths",SELF_DESTRUCTS:"selfDestructs",INPUTS_PER_MINUTE:"inputsPerMinute",AVG_KILL_PERCENT:"avgKillPercent",HIGH_DAMAGE_PUNISHES:"highDamagePunishes",DAMAGE_DONE:"damageDone"},w=(r={},Object(g.a)(r,C.OPENINGS_PER_KILL,{id:C.OPENINGS_PER_KILL,name:"Openings / Kill",type:"number",betterDirection:"lower",recommendedRounding:1,calculate:function(e,n){return x(e,n,"openingsPerKill",1)}}),Object(g.a)(r,C.DAMAGE_PER_OPENING,{id:C.DAMAGE_PER_OPENING,name:"Damage / Opening",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,n){return x(e,n,"damagePerOpening",1)}}),Object(g.a)(r,C.NEUTRAL_WINS,{id:C.NEUTRAL_WINS,name:"Neutral Wins",type:"number",betterDirection:"higher",recommendedRounding:0,calculate:function(e,n){return x(e,n,"neutralWinRatio",0,"count")}}),Object(g.a)(r,C.KILL_MOVES,{id:C.KILL_MOVES,name:"Most Common Kill Move",type:"text",calculate:function(e,n){var t=E.flatMap(e,(function(e){var t=E.get(e,["stats","conversions"])||[],r=E.filter(t,(function(e){var t=e.playerIndex===n,r=e.didKill;return t&&r}));return E.map(r,(function(e){return E.last(e.moves)}))})),r=E.groupBy(t,"moveId"),a=E.map(r,(function(e){var n=E.first(e);return{count:e.length,id:n.moveId,name:v.getMoveName(n.moveId),shortName:v.getMoveShortName(n.moveId)}})),o=E.orderBy(a,["count"],["desc"]),c=E.first(o),i="N/A";return c&&(i="".concat(c.shortName," (").concat(c.count,")")),{result:o,simple:{text:i}}}}),Object(g.a)(r,C.NEUTRAL_OPENER_MOVES,{id:C.NEUTRAL_OPENER_MOVES,name:"Most Common Neutral Opener",type:"text",calculate:function(e,n){var t=E.flatMap(e,(function(e){var t=E.get(e,["stats","conversions"])||[],r=E.filter(t,(function(e){var t=e.playerIndex===n,r="neutral-win"===e.openingType;return t&&r}));return E.map(r,(function(e){return E.first(e.moves)}))})),r=E.groupBy(t,"moveId"),a=E.map(r,(function(e){var n=E.first(e);return{count:e.length,id:n.moveId,name:v.getMoveName(n.moveId),shortName:v.getMoveShortName(n.moveId)}})),o=E.orderBy(a,["count"],["desc"]),c=E.first(o),i="N/A";return c&&(i="".concat(c.shortName," (").concat(c.count,")")),{result:o,simple:{text:i}}}}),Object(g.a)(r,C.EARLY_KILLS,{id:C.EARLY_KILLS,name:"Earliest Kill",type:"number",betterDirection:"lower",recommendedRounding:1,calculate:function(e,n){var t=E.flatMap(e,(function(e){var t=E.get(e,["stats","stocks"])||[];return E.filter(t,(function(e){var t=e.playerIndex!==n,r=null!==e.endPercent;return t&&r}))})),r=E.orderBy(t,["endPercent"],["asc"]),a=E.first(r),o={text:"N/A",number:null};return a&&(o.number=a.endPercent,o.text=o.number.toFixed(1)),{result:E.take(r,5),simple:o}}}),Object(g.a)(r,C.LATE_DEATHS,{id:C.LATE_DEATHS,name:"Latest Death",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,n){var t=E.flatMap(e,(function(e){var t=E.get(e,["stats","stocks"])||[];return E.filter(t,(function(e){var t=e.playerIndex===n,r=null!==e.endPercent;return t&&r}))})),r=E.orderBy(t,["endPercent"],["desc"]),a=E.first(r),o={text:"N/A",number:null};return a&&(o.number=a.endPercent,o.text=o.number.toFixed(1)),{result:E.take(r,5),simple:o}}}),Object(g.a)(r,C.SELF_DESTRUCTS,{id:C.SELF_DESTRUCTS,name:"Total Self-Destructs",type:"number",betterDirection:"lower",recommendedRounding:0,calculate:function(e,n){var t=E.map(e,(function(e){var t=E.get(e,["stats","stocks"])||[],r=E.filter(t,(function(e){var t=e.playerIndex===n,r=null!==e.endPercent;return t&&r})),a=E.get(e,["stats","conversions"])||[],o=E.filter(a,(function(e){var t=e.playerIndex!==n,r=e.didKill;return t&&r}));return r.length-o.length})),r=E.sum(t);return{result:r,simple:{number:r,text:"".concat(r)}}}}),Object(g.a)(r,C.INPUTS_PER_MINUTE,{id:C.INPUTS_PER_MINUTE,name:"Inputs / Minute",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,n){return x(e,n,"inputsPerMinute",1)}}),Object(g.a)(r,C.AVG_KILL_PERCENT,{id:C.AVG_KILL_PERCENT,name:"Average Kill Percent",type:"number",betterDirection:"lower",recommendedRounding:1,calculate:function(e,n){var t=E.flatMap(e,(function(e){var t=E.get(e,["stats","stocks"])||[];return E.filter(t,(function(e){var t=e.playerIndex!==n,r=null!==e.endPercent;return t&&r}))})),r={total:t.length,count:E.sumBy(t,"endPercent")||0};return r.ratio=r.total?r.count/r.total:null,{result:r,simple:S(r,1)}}}),Object(g.a)(r,C.HIGH_DAMAGE_PUNISHES,{id:C.HIGH_DAMAGE_PUNISHES,name:"Highest Damage Punish",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,n){var t=E.flatMap(e,(function(e){var t=E.get(e,["stats","conversions"])||[];return E.filter(t,(function(e){var t=e.playerIndex===n,r=null!==e.endPercent;return t&&r}))})),r=function(e){return e.endPercent-e.startPercent},a=E.orderBy(t,[r],"desc"),o=E.first(a),c={text:"N/A",number:null};return o&&(c.number=r(o),c.text=c.number.toFixed(1)),{result:E.take(a,5),simple:c}}}),Object(g.a)(r,C.DAMAGE_DONE,{id:C.DAMAGE_DONE,name:"Total Damage Done",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,n){return x(e,n,"damagePerOpening",1,"count")}}),r);function x(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ratio",o=E.map(e,(function(e){var r=E.get(e,["stats","overall"]);return E.keyBy(r,"playerIndex")[n][t]})),c=k(o),i=S(c,r,a);return{result:c,simple:i}}function k(e){var n={};return n.count=E.sumBy(e,"count")||0,n.total=E.sumBy(e,"total")||0,n.ratio=n.total?n.count/n.total:null,n}function S(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ratio",r={};switch(t){case"ratio":r.number=e.ratio,r.text=null!==e.ratio?e.ratio.toFixed(n):"N/A";break;case"count":r.number=e.count,r.text=e.count.toFixed(n)}return r}function I(e){var n=E.first(e),t=E.map(n.settings.players,"playerIndex"),r=[t,E.chain(t).clone().reverse().value()];return E.flatMap(C,(function(n){var t=w[n];if(!t.calculate)return[];var a=E.map(r,(function(n){var r=t.calculate(e,n[0],n[1]);return r.port=n[0]+1,r})),o=Object(b.a)({},t);return delete o.calculate,o.results=a,[o]}))}function L(e){var n=E.orderBy(e,[function(e){return e.metadata.startAt}],["asc"]),t=function(e){return function(n){var t;return t={port:n.port,characterId:n.characterId,characterColor:n.characterColor,nametag:n.nametag,characterName:O.getCharacterName(n.characterId)},Object(g.a)(t,"characterColor",O.getCharacterColorName(n.characterId,n.characterColor)),Object(g.a)(t,"gameResult",function(e,n){var t=e.latestFrame;return y(t)===n?"winner":"loser"}(e,n.playerIndex)),t}};return E.map(n,(function(e){var n=t(e);return{stage:{id:e.settings.stageId,name:h.getStageName(e.settings.stageId)},players:E.map(e.settings.players,n),startTime:e.metadata.startAt,duration:P(e.stats.lastFrame)}}))}function R(e){var n=[C.KILL_MOVES,C.NEUTRAL_OPENER_MOVES,C.OPENINGS_PER_KILL,C.DAMAGE_DONE],t=function(e){var n=e.type,t=Object(b.a)({},e);return t.results=E.map(e.results,(function(e){return E.get(e,["simple",n])})),t},r=[],a=E.keyBy(e,"id"),o=a;E.forEach(n,(function(e){var n=a[e];r.push(t(n)),delete o[e]}));var c=a[C.SELF_DESTRUCTS],i=c.results[0].simple.number,u=c.results[0].simple.number;i>1||u>1||delete o[C.SELF_DESTRUCTS];var l=E.shuffle(o),s=E.take(l,2);return E.forEach(s,(function(e){r.push(t(e))})),r}function P(e){var n=j.duration(e/60,"seconds");return j.utc(n.as("milliseconds")).format("m:ss")}function N(e,n){return Math.random()*(n-e)+e}function A(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e}function _(){var e={name1:"FOLLOW",name2:"ON",sub1:"@_vinceau",sub2:"TWITTER"},n=D(),t=Object(f.a)(n,2),r=t[0],a=t[1],o=D(),c=Object(f.a)(o,2),i=c[0],u=c[1];e.char1=r,e.color1=a,e.char2=i,e.color2=u;var l=A(3,5);e.gt=l;for(var s=1;s<=l;s++){var d="g".concat(s),b=Math.random()<.5,g=M([[r,a,b?"winner":"loser"].join(","),[i,u,b?"loser":"winner"].join(",")]);e[d]=g}return["mckm1","mckm2","mcno1","mcno2"].forEach((function(n){e[n]=function(){var e=A(7,21),n=m.moves.getMoveShortName(e).toUpperCase();return"".concat(n," - ").concat(e)}()})),["opk1","opk2"].forEach((function(n){e[n]=N(5,15).toFixed(1)})),["tdd1","tdd2"].forEach((function(n){e[n]=N(1e3,2e3).toFixed(1)})),["akp1","akp2"].forEach((function(n){e[n]=N(50,200).toFixed(1)})),["nw1","nw2"].forEach((function(n){e[n]=A(30,80)})),e}function D(){var e=A(0,25),n=m.characters.getCharacterInfo(e),t=A(0,n.colors.length-1);return[e,n.colors[t]]}var T=[2,3,8,28,31,32];function M(e){return[function(){var e=A(0,T.length-1);return T[e]}(),P(A(1800,28800))].concat(Object(d.a)(e)).join(",")}var G=t(3),F=t(1);function U(){var e=Object(G.a)(["\n        body.themed {\n          background: radial-gradient(circle at center -30%, ",", ",");\n        }\n      "]);return U=function(){return e},e}var z={primaryColor:"#286163",secondaryColor:"#121020"},B=function(e){var n=e.primaryColor,t=e.secondaryColor;return Object(F.d)(F.a,{styles:Object(F.c)(U(),n,t)})};function K(e){var n=function(e){var n={};return e.forEach((function(e){var t=localStorage.getItem(e);t&&(n[e]=t)})),n}(["primaryColor","secondaryColor","leftColor","rightColor"]);return new URLSearchParams(Object(b.a)(Object(b.a)(Object(b.a)({},z),n),e))}var H,V=function(){var e="?"+K(_()).toString();return o.a.createElement(s.a,{to:{pathname:"/render",search:e}})};!function(e){e.ADD_FILES="ADD_FILES",e.SET_DETAILS="SET_DETAILS",e.SET_ERROR="SET_ERROR",e.REMOVE_FILE="REMOVE_FILE",e.CLEAR_ALL="CLEAR_ALL"}(H||(H={}));var W={files:[]},Y=Object(a.createContext)({state:W,dispatch:function(){return null}}),X=function(e,n){return function(e,n){switch(n.type){case H.SET_DETAILS:var t=n.payload,r=t.filename,a=t.details,o=e.files,c=o.findIndex((function(e){return e.filename===r}));return-1!==c&&(o[c].details=a,o[c].loading=!1),Object(b.a)(Object(b.a)({},e),{},{files:o});case H.SET_ERROR:var i=n.payload,u=i.filename,l=i.error,s=e.files,f=s.findIndex((function(e){return e.filename===u}));return-1!==f&&(s[f].error=l,s[f].loading=!1),Object(b.a)(Object(b.a)({},e),{},{files:s});case H.ADD_FILES:var m=n.payload.files,g=e.files,p=m.map((function(e){return{filename:e.name,loading:!0,details:null}}));return p=p.filter((function(e){return!g.find((function(n){return e.filename===n.filename}))})),Object(b.a)(Object(b.a)({},e),{},{files:[].concat(Object(d.a)(g),Object(d.a)(p))});case H.REMOVE_FILE:var h=n.payload.filename,v=e.files.filter((function(e){return e.filename!==h}));return Object(b.a)(Object(b.a)({},e),{},{files:v});case H.CLEAR_ALL:return Object(b.a)(Object(b.a)({},e),{},{files:[]});default:return e}}(e,n)},J=function(e){var n=e.children,t=Object(a.useReducer)(X,W),r=Object(f.a)(t,2),c=r[0],i=r[1];return o.a.createElement(Y.Provider,{value:{state:c,dispatch:i}},n)},$=t(7),q=function(e){return o.a.createElement("a",Object.assign({target:"_blank",rel:"noopener noreferrer"},e),e.children)};function Q(){var e=Object(G.a)(['\n  text-transform: uppercase;\n  font-weight: 800;\n  font-size: 5.5rem;\n  margin: 2rem;\n  padding-bottom: 1rem;\n  position: relative;\n  text-align: center;\n\n  &::before {\n    z-index: -1;\n    content: "";\n    display: block;\n    background-image: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.2), transparent);\n    height: 0.1rem;\n    position: absolute;\n    width: 80%;\n    margin-left: 50%;\n    transform: translateX(-50%);\n    bottom: 0;\n  }\n']);return Q=function(){return e},e}var Z=$.a.h1(Q()),ee=t(25),ne=t.n(ee),te=t(44),re=t(168);function ae(){var e=Object(G.a)(["\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  border-width: 2px;\n  border-color: ",";\n  border-style: dashed;\n  background-color: rgba(0, 0, 0, 0.3);\n  color: white;\n  outline: none;\n  transition: border 0.24s ease-in-out;\n  p {\n    text-align: center;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n"]);return ae=function(){return e},e}var oe=$.a.div(ae(),(function(e){return function(e){return e.isDragAccept?"#00e676":e.isDragActive?"#2196f3":"#eeeeee"}(e)})),ce=function(e){var n=Object(re.a)(e),t=n.getRootProps,r=n.getInputProps,a=n.isDragActive,c=n.isDragAccept,i=n.isDragReject;return o.a.createElement(oe,t({isDragActive:a,isDragAccept:c,isDragReject:i}),o.a.createElement("input",r()),o.a.createElement("p",null,"Drag SLP files here or click to select"))};function ie(){var e=Object(G.a)(["\n        color: #bf2600;\n        font-weight: bold;\n      "]);return ie=function(){return e},e}var ue=function(e){return Object(F.d)("span",{css:Object(F.c)(ie())},"ERROR: ",e.children)};function le(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.toLowerCase().replace(/[. &]+/gi,n)}function se(e,n){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Default",t=le(e),r=le(n);return"".concat("/slippi-stats","/images/characters/").concat(t,"/").concat(r)}(m.characters.getCharacterName(+e),n)}function de(e,n){var t=se(e,n);return"".concat(t,"/portrait.png")}var fe=t(102);function me(){var e=Object(G.a)(["\n  opacity: ",";\n  transition: ",";\n  &:hover {\n    opacity: ",";\n  }\n"]);return me=function(){return e},e}var be=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"opacity 0.2s ease-in-out";return Object(F.c)(me(),e,t,n)};function ge(){var e=Object(G.a)(["\n            display: grid;\n            grid-auto-flow: column;\n            grid-column-gap: 1rem;\n          "]);return ge=function(){return e},e}function pe(){var e=Object(G.a)(["\n          display: grid;\n          justify-items: center;\n          align-items: center;\n          grid-template-columns: repeat(3, 1fr);\n          font-weight: bold;\n        "]);return pe=function(){return e},e}function he(){var e=Object(G.a)(["\n            font-weight: bold;\n          "]);return he=function(){return e},e}function ve(){var e=Object(G.a)(["\n        position: relative;\n        display: inline-block;\n        margin-top: 0.5rem;\n        ","\n      "]);return ve=function(){return e},e}function Oe(){var e=Object(G.a)(["\n            font-size: 1.6rem;\n            font-weight: bold;\n            margin-bottom: 1rem;\n            font-family: monospace;\n          "]);return Oe=function(){return e},e}function je(){var e=Object(G.a)(["\n          flex: 1;\n        "]);return je=function(){return e},e}function Ee(){var e=Object(G.a)(["\n        padding: 1.5rem 2rem;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        color: rgba(255, 255, 255, 0.8);\n        background-color: rgba(0, 0, 0, 0.3);\n        ",";\n        &:hover {\n          .remove-button {\n            opacity: 1;\n          }\n        }\n        .remove-button {\n          opacity: 0;\n          transition: opacity 0.2s ease-in-out;\n          background: white;\n          color: ",";\n          border: none;\n          font-weight: bold;\n          font-size: 2.5rem;\n          cursor: pointer;\n          padding: 0.2rem 1rem;\n          margin: 0;\n        }\n      "]);return Ee=function(){return e},e}var ye=function(e){var n=e.onRemove,t=e.name,r=e.children;return Object(F.d)("div",{css:Object(F.c)(Ee(),be(.8),z.secondaryColor)},Object(F.d)("div",{css:Object(F.c)(je())},Object(F.d)("div",{css:Object(F.c)(Oe())},t),Object(F.d)("div",null,r)),n&&Object(F.d)("button",{className:"remove-button",onClick:n,title:"Remove"},"\u2715"))},Ce=function(e){var n=e.charId,t=e.color,r=e.winner,a=function(e,n){var t=se(e,n);return"".concat(t,"/stock.png")}(n,t);return Object(F.d)("div",{css:Object(F.c)(ve(),r&&'&::after {\n          position: absolute;\n          content: " ";\n          height: 0.7rem;\n          width: 60%;\n          background-color: #ffa700;\n          left: 20%;\n          bottom: 110%;\n          clip-path: polygon(50% 0%, 75% 35%, 100% 0, 100% 100%, 0 100%, 0 0, 25% 35%);\n        }\n      ')},Object(F.d)("img",{src:a,style:{height:"3rem"},alt:"stock icon"}))},we=function(e){var n=e.file,t=e.onRemove,r=n.filename,a=n.loading,o=n.error,c=n.details;if(a)return Object(F.d)(ye,{name:r},Object(F.d)("span",{css:Object(F.c)(he())},"LOADING..."));if(o||!c)return Object(F.d)(ye,{onRemove:t,name:r},Object(F.d)(ue,null,o.message));var i=m.stages.getStageName(c.settings.stageId),u=c.settings.players,l=c.latestFrame?P(c.latestFrame.frame):"N/A",s=c.latestFrame?Object(fe.findWinner)(c.latestFrame):null,d=u.map((function(e){var n=e.playerIndex===s,t=e.characterId,r=m.characters.getCharacterColorName(t,e.characterColor);return Object(F.d)(Ce,{key:"".concat(e.port,"-icon"),charId:t,color:r,winner:n})}));return Object(F.d)(ye,{onRemove:t,name:r},Object(F.d)("div",{css:Object(F.c)(pe())},Object(F.d)("div",null,i),Object(F.d)("div",{css:Object(F.c)(ge())},d),Object(F.d)("div",null,l)))};function xe(){var e=Object(G.a)(["\n        display: grid;\n        grid-template-columns: 100%;\n        grid-row-gap: 1rem;\n        max-height: 50rem;\n        overflow-y: auto;\n      "]);return xe=function(){return e},e}var ke,Se=function(e){var n=e.files,t=e.onRemove;return Object(F.d)("div",{css:Object(F.c)(xe())},n.map((function(e){return Object(F.d)(we,{key:e.filename,file:e,onRemove:function(){return t(e.filename)}})})))},Ie=t(65);function Le(e){switch(e){case 1:return ke.P1;case 2:return ke.P2;case 3:return ke.P3;case 4:return ke.P4;default:return ke.P1}}!function(e){e.P1="#f52e2e",e.P2="#5463ff",e.P3="#ffc717",e.P4="#1f9e40"}(ke||(ke={}));var Re=function(e,n){var t=n.settings,r=n.metadata,a=e-1,o=t.players.find((function(e){return e.playerIndex===a})),c=o?o.nametag:null,i=Object(Ie.get)(r,["players",a,"names","netplay"],null);return[c||i||"",Object(Ie.get)(r,["players",a,"names","code"],null)||""]};function Pe(e){var n=function(e){var n=E.groupBy(e,(function(e){return 2===e.settings.players.length})),t=E.get(n,!1)||[];E.some(t)&&(console.log("The following games have been excluded because they are not singles games:"),E.forEach(t,(function(e){console.log(e.filePath)})),console.log());var r=E.get(n,!0)||[],a=E.chain(r).groupBy((function(e){var n=E.map(e.settings.players,"port");return E.join(n,"-")})).orderBy(["length"],["desc"]).value(),o=a.shift();if(E.some(a)){console.log("The following games have been excluded because the player ports differ:");var c=E.flatten(a);E.forEach(c,(function(e){console.log(e.filePath)})),console.log()}if(E.isEmpty(o))throw new Error("There were no valid games found to compute stats from.");return console.log("Including ".concat(o.length," games for stat calculation...")),o}(e);if(!n||0===n.length)throw new Error("No valid games");var t=function(e){var n=I(e);return{games:L(e),summary:n,btsSummary:R(n)}}(n),r=t.games,a=t.summary,o={},c=r[r.length-1],i=c.players[0],u=c.players[1];o.leftColor=Le(i.port),o.rightColor=Le(u.port),o.char1=i.characterId,o.char2=u.characterId,o.color1=i.characterColor,o.color2=u.characterColor;var l=n[n.length-1],s=Re(i.port,l),m=Object(f.a)(s,2),b=m[0],g=m[1],p=Re(u.port,l),h=Object(f.a)(p,2),v=h[0],O=h[1];return o.name1=b.toUpperCase()||i.characterName,o.name2=v.toUpperCase()||u.characterName,o.sub1=g,o.sub2=O,o.gt=r.length,r.forEach((function(e,n){var t="g".concat(n+1),r=e.stage.id,a=e.duration,c=e.players.map((function(e){return[e.characterId,e.characterColor,e.gameResult].join(",")})),i=[r,a].concat(Object(d.a)(c)).join(",");o[t]=i})),a.forEach((function(e){switch(e.id){case"openingsPerKill":o.opk1=e.results[0].simple.text,o.opk2=e.results[1].simple.text;break;case"damagePerOpening":o.dpo1=e.results[0].simple.text,o.dpo2=e.results[1].simple.text;break;case"neutralWins":o.nw1=e.results[0].simple.text,o.nw2=e.results[1].simple.text;break;case"killMoves":var n=e.results[0].result[0],t=e.results[1].result[0];o.mckm1="".concat(n.shortName.toUpperCase()," - ").concat(n.count),o.mckm2="".concat(t.shortName.toUpperCase()," - ").concat(t.count);break;case"neutralOpenerMoves":var r=e.results[0].result[0],a=e.results[1].result[0];o.mcno1="".concat(r.shortName.toUpperCase()," - ").concat(r.count),o.mcno2="".concat(a.shortName.toUpperCase()," - ").concat(a.count);break;case"inputsPerMinute":o.ipm1=e.results[0].simple.text,o.ipm2=e.results[1].simple.text;break;case"avgKillPercent":o.akp1=e.results[0].simple.text,o.akp2=e.results[1].simple.text;break;case"damageDone":o.tdd1=e.results[0].simple.text,o.tdd2=e.results[1].simple.text}})),console.log("returning these params: ",o),o}var Ne=t(159);function Ae(){var e=Object(G.a)(["\n        display: grid;\n        grid-template-columns: 100%;\n        grid-row-gap: 1rem;\n      "]);return Ae=function(){return e},e}function _e(){var e=Object(G.a)(["\n  background: ",";\n  border: none;\n  color: ",";\n  cursor: pointer;\n  font: inherit;\n  padding: 1rem 0rem;\n  width: 100%;\n  font-weight: 700;\n  font-size: 3rem;\n  opacity: 0.8;\n  transition: opacity 0.2s ease-in-out;\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n  &:hover:enabled {\n    opacity: 1;\n  }\n"]);return _e=function(){return e},e}var De=$.a.button(_e(),(function(e){return e.backgroundColor}),(function(e){return e.color})),Te=function(e){var n=e.buttonColor,t=Object(s.f)(),r=Object(a.useContext)(Y),c=r.state,i=r.dispatch,u=o.a.useState(null),l=Object(f.a)(u,2),d=l[0],m=l[1],b=Object(a.useCallback)((function(e){var n=(new Date).getTime();i({type:H.ADD_FILES,payload:{files:e}});var t=e.map(function(){var e=Object(te.a)(ne.a.mark((function e(n){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ne.a)(n);case 3:t=e.sent,i({type:H.SET_DETAILS,payload:{filename:n.name,details:t}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(d),i({type:H.SET_ERROR,payload:{filename:n.name,error:e.t0}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}());Promise.all(t).then((function(){var e=(new Date).getTime()-n;console.log("Finished processing in ".concat(e,"ms"))}))}),[i,d]),g=!c.files.find((function(e){return e.loading})),p=0===c.files.length?"NO FILES ADDED":g?"GENERATE STATS":"PLEASE WAIT";return Object(F.d)("div",{css:Object(F.c)(Ae())},Object(F.d)(ce,{accept:".slp",onDrop:b}),Object(F.d)(Se,{files:c.files,onRemove:function(e){i({type:H.REMOVE_FILE,payload:{filename:e}})}}),Object(F.d)(De,{backgroundColor:n,color:"white",disabled:0===c.files.length||!g,onClick:function(){try{var e="?"+K(Pe(c.files.filter((function(e){return null!==e.details})).map((function(e){return e.details})))).toString();t.push({pathname:"/render",search:e})}catch(n){console.error(d),m(n)}}},p),d&&Object(F.d)(ue,null,d.message))};function Me(){var e=Object(G.a)(["\n            flex: none;\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            grid-column-gap: 1rem;\n            padding: 2rem 0;\n          "]);return Me=function(){return e},e}function Ge(){var e=Object(G.a)(["\n            flex: auto;\n          "]);return Ge=function(){return e},e}function Fe(){var e=Object(G.a)(["\n              cursor: pointer;\n              font-size: 4rem;\n            "]);return Fe=function(){return e},e}function Ue(){var e=Object(G.a)(["\n            flex: none;\n          "]);return Ue=function(){return e},e}function ze(){var e=Object(G.a)(["\n        height: 100%;\n        width: 100%;\n        max-width: 80rem;\n        margin: 0 auto;\n      "]);return ze=function(){return e},e}function Be(){var e=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 0 2rem;\n"]);return Be=function(){return e},e}function Ke(){var e=Object(G.a)(["\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: ",";\n  background: white;\n  padding: 1rem 0rem;\n  width: 100%;\n  font-weight: 700;\n  font-size: 2.3rem;\n  cursor: pointer;\n  ",";\n"]);return Ke=function(){return e},e}var He=Object(F.c)(Ke(),z.secondaryColor,be(.8)),Ve=$.a.div(Be()),We=function(){var e=Object(a.useContext)(Y).dispatch,n=localStorage.getItem("primaryColor")||z.primaryColor,t=localStorage.getItem("secondaryColor")||z.secondaryColor;return Object(F.d)("div",{css:Object(F.c)(ze())},Object(F.d)(B,{primaryColor:n,secondaryColor:t}),Object(F.d)(Ve,null,Object(F.d)("div",{css:Object(F.c)(Ue())},Object(F.d)(Z,{onClick:function(){e({type:H.CLEAR_ALL})},title:"Refresh page",css:Object(F.c)(Fe())},"Slippi Stats",Object(F.d)("br",null),"Graphic Generator")),Object(F.d)("div",{css:Object(F.c)(Ge())},Object(F.d)(Te,{buttonColor:n})),Object(F.d)("div",{css:Object(F.c)(Me())},Object(F.d)(l.b,{css:He,to:"/random",title:"Show random sample stats"},"DEMO"),Object(F.d)(q,{css:He,title:"Fork this on Github",href:"https://github.com/vinceau/slippi-stats"},"GITHUB"),Object(F.d)(q,{css:He,title:"Send love",href:"https://twitter.com/_vinceau"},"AUTHOR"))))},Ye=t(160),Xe=t.n(Ye);function Je(){var e=Object(G.a)(["\n        cursor: pointer;\n        &:hover {\n          text-decoration: underline;\n        }\n      "]);return Je=function(){return e},e}var $e=function(e){var n=o.a.useState(!1),t=Object(f.a)(n,2),r=t[0],a=t[1],c=e.onCopyTimeoutMs||2e3,i=e.onCopyText||"copied!";return r?Object(F.d)("span",null,i):Object(F.d)("span",{css:Object(F.c)(Je())},Object(F.d)(Xe.a,{text:e.text,onCopy:function(){a(!0),setTimeout((function(){return a(!1)}),c)}},e.children))},qe=t(109),Qe=t.n(qe);function Ze(){var e=Object(G.a)(["\n  color: #cccccc;\n  border: solid 0.2rem white;\n  background-color: #333333;\n  display: inline-block;\n  text-decoration: none;\n  padding: 1.5rem 3rem;\n  cursor: move;\n  border-radius: 0.3rem;\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  font-weight: bold;\n"]);return Ze=function(){return e},e}var en=$.a.a(Ze()),nn=function(e){var n=o.a.useRef(null),t=function(e){for(var n=window.location.href,t=0,r=Object.entries(e||{});t<r.length;t++){var a=Object(f.a)(r[t],2),o=a[0],c=a[1];n+="&".concat(o,"=").concat(c)}return n}(e.options);return o.a.createElement(en,{href:t,onDragStart:function(e){return function(e){var n=new Image;n.src=Qe.a,e.dataTransfer.setDragImage(n,30,30),e.dataTransfer.setData("text/uri-list",e.target.href)}(e)},onDragEnd:function(e){return function(e){return e.target.blur()}(e)},onClick:function(e){return e.preventDefault()},ref:n},o.a.createElement("img",{style:{width:"3rem",marginRight:"1rem"},src:Qe.a,alt:"OBS Logo"})," Drag me into OBS")};function tn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=Object(a.useState)(n),r=Object(f.a)(t,2),o=r[0],c=r[1],i=Object(s.f)(),u=Object(s.g)();Object(a.useEffect)((function(){var t=new URLSearchParams(u.search).get(e);t!==o&&c(t||n)}),[e,n,u,o]);var l=function(n){var t=new URLSearchParams(u.search);t.set(e,n);var r="?"+t.toString();i.push({pathname:u.pathname,search:r})};return[o,l]}function rn(e){var n=Object(a.useState)(!1),t=Object(f.a)(n,2),r=t[0],o=t[1];return Object(a.useEffect)((function(){function n(n){n.key===e&&o(!0)}var t=function(n){n.key===e&&o(!1)};return window.addEventListener("keydown",n),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",t)}}),[e]),r}function an(e,n){Object(a.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])}var on=t(167);function cn(){var e=Object(G.a)(["\n              position: absolute;\n              z-index: 9999;\n              bottom: 0;\n            "]);return cn=function(){return e},e}function un(){var e=Object(G.a)(["\n  position: absolute;\n  transform: translateX(-50%);\n  margin-top: 0.2rem;\n  margin-left: 50%;\n  font-size: 1.1rem;\n  cursor: pointer;\n  padding: 0.2rem 0.5rem;\n  ",";\n"]);return un=function(){return e},e}function ln(){var e=Object(G.a)(["\n  cursor: pointer;\n  height: ",";\n  width: ",";\n  border-radius: 0.5rem;\n  border: solid 0.1rem rgba(255, 255, 255, 0.2);\n  background-color: ",";\n"]);return ln=function(){return e},e}var sn=$.a.div(ln(),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.color})),dn=$.a.div(un(),be(.5)),fn=function(e){var n=e.value,t=e.onChange,r=e.defaultColor,c=o.a.useState(!1),i=Object(f.a)(c,2),u=i[0],l=i[1],s=Object(a.useRef)(null),d=r&&n!==r;an(s,(function(){u&&l(!1)}));return Object(F.d)("div",{style:{position:"relative"}},Object(F.d)(sn,{color:n,size:"5rem",ref:s,onClick:function(){u||l(!0)}},u&&Object(F.d)("div",{css:Object(F.c)(cn())},Object(F.d)(on.a,{color:n,onChange:function(e){return t(e.hex)}}))),d&&Object(F.d)(dn,{onClick:function(){r&&t(r)}},"RESET"))};function mn(){var e=Object(G.a)(["\n          justify-self: start;\n        "]);return mn=function(){return e},e}function bn(){var e=Object(G.a)(["\n          justify-self: end;\n        "]);return bn=function(){return e},e}function gn(){var e=Object(G.a)(["\n        display: grid;\n        grid-column-gap: 2.5rem;\n        grid-template-columns: repeat(2, 1fr);\n      "]);return gn=function(){return e},e}function pn(){var e=Object(G.a)(["\n  font-weight: 600;\n  font-size: 1.6rem;\n"]);return pn=function(){return e},e}function hn(){var e=Object(G.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 1rem;\n  justify-items: center;\n  align-items: center;\n"]);return hn=function(){return e},e}var vn=$.a.div(hn()),On=$.a.div(pn()),jn=function(e){var n=e.defaultLeftColor,t=e.defaultRightColor,r=e.leftLabel,a=e.rightLabel,o=e.leftColor,c=e.rightColor,i=e.onLeftColorChange,u=e.onRightColorChange;return Object(F.d)("div",{css:Object(F.c)(gn())},Object(F.d)(vn,{css:Object(F.c)(bn())},Object(F.d)(On,null,r),Object(F.d)("div",null,Object(F.d)(fn,{value:o,onChange:i,defaultColor:n}))),Object(F.d)(vn,{css:Object(F.c)(mn())},Object(F.d)("div",null,Object(F.d)(fn,{value:c,onChange:u,defaultColor:t})),Object(F.d)(On,null,a)))};function En(){var e=Object(G.a)(["\n          text-align: center;\n          margin-bottom: 2rem;\n          font-weight: 800;\n          font-size: 2rem;\n        "]);return En=function(){return e},e}var yn=function(e){var n=e.panelLabel,t=e.leftLabel,r=e.leftColorParam,a=e.leftDefault,o=e.rightLabel,c=e.rightColorParam,i=e.rightDefault,u=localStorage.getItem(r),l=localStorage.getItem(c),s=tn(r,u||a),d=Object(f.a)(s,2),m=d[0],b=d[1],g=tn(c,l||i),p=Object(f.a)(g,2),h=p[0],v=p[1];return Object(F.d)(Cn,{title:n},Object(F.d)(jn,{leftLabel:t,rightLabel:o,leftColor:m,rightColor:h,defaultLeftColor:a,defaultRightColor:i,onLeftColorChange:function(e){localStorage.setItem(r,e),b(e)},onRightColorChange:function(e){localStorage.setItem(c,e),v(e)}}))},Cn=function(e){return Object(F.d)("div",null,Object(F.d)("div",{css:Object(F.c)(En())},e.title),e.children)};function wn(){var e=Object(G.a)(["\n              font-size: 1.5rem;\n              margin: 2rem 0;\n              ","\n              a:hover {\n                text-decoration: underline;\n              }\n            "]);return wn=function(){return e},e}function xn(){var e=Object(G.a)(["\n                margin-top: 0.5rem;\n                text-align: center;\n                font-size: 1.2rem;\n                ",";\n              "]);return xn=function(){return e},e}function kn(){var e=Object(G.a)(["\n              margin-top: 1rem;\n            "]);return kn=function(){return e},e}function Sn(){var e=Object(G.a)(["\n  position: fixed;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  background-color: black;\n  opacity: 0.2;\n  z-index: 10;\n  &.closed:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n  &.open {\n    opacity: 1;\n    transform: translateY(-100%);\n    .close-button {\n      opacity: 1;\n    }\n  }\n  transition: all 0.2s ease-in-out;\n  .close-button {\n    z-index: 10;\n    position: absolute;\n    right: 3rem;\n    top: 1rem;\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n    color: black;\n    background-color: white;\n    padding: 0.2rem 1rem;\n    font-weight: bold;\n    font-size: 2.5rem;\n    cursor: pointer;\n    transform: translateY(-100%);\n  }\n"]);return Sn=function(){return e},e}function In(){var e=Object(G.a)(['\n  display: block;\n  position: absolute;\n  width: 100%;\n  top: 0;\n  transform: translateY(-100%);\n  background-color: inherit;\n  margin: 0;\n  text-align: center;\n  padding: 1rem 0;\n  font-size: 2rem;\n  &::after {\n    content: "";\n    display: block;\n    background-image: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.2), transparent);\n    height: 0.1rem;\n    position: absolute;\n    width: 80%;\n    margin-left: 10%;\n    bottom: 0;\n  }\n']);return In=function(){return e},e}function Ln(){var e=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Ln=function(){return e},e}function Rn(){var e=Object(G.a)(["\n  padding-top: 2rem;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n"]);return Rn=function(){return e},e}var Pn=$.a.div(Rn()),Nn=$.a.div(Ln()),An=$.a.h2(In()),_n=$.a.div(Sn()),Dn=function(){var e=o.a.useState(!1),n=Object(f.a)(e,2),t=n[0],r=n[1],a=tn("char1"),c=Object(f.a)(a,1)[0],i=tn("char2"),u=Object(f.a)(i,1)[0],l=m.characters.getCharacterShortName(+c),s=m.characters.getCharacterShortName(+u),d="Slippi Stats - ".concat(l," v ").concat(s),b=o.a.useRef(null);an(b,(function(){t&&r(!1)}));return Object(F.d)(_n,{className:t?"open":"closed",ref:b,onClick:function(){t||r(!0)}},Object(F.d)("div",{className:"close-button",onClick:function(){return r(!1)},title:"Close"},"\u2715"),Object(F.d)(An,null,"OPTIONS"),Object(F.d)(Pn,null,Object(F.d)(Nn,null,Object(F.d)(yn,{panelLabel:"PLAYER COLOR",leftLabel:"LEFT",rightLabel:"RIGHT",leftDefault:ke.P1,leftColorParam:"leftColor",rightColorParam:"rightColor",rightDefault:ke.P2})),Object(F.d)(Nn,null,Object(F.d)("div",{css:Object(F.c)(kn())},Object(F.d)(nn,{options:{"layer-name":d,"layer-width":1920,"layer-height":1080}}),Object(F.d)("div",{css:Object(F.c)(xn(),be(.5))},Object(F.d)($e,{text:window.location.href},Object(F.d)("span",null,"copy link to clipboard")))),Object(F.d)("div",{css:Object(F.c)(wn(),be(.5))},"Made with love by ",Object(F.d)(q,{href:"https://twitter.com/_vinceau"},"Vince Au"))),Object(F.d)(Nn,null,Object(F.d)(yn,{panelLabel:"THEME COLOR",leftLabel:"PRIMARY",rightLabel:"SECONDARY",leftDefault:z.primaryColor,leftColorParam:"primaryColor",rightColorParam:"secondaryColor",rightDefault:z.secondaryColor}))))};function Tn(){var e=Object(G.a)(["\n        height: 80%;\n        width: 100%;\n        position: relative;\n        background: radial-gradient(circle at center -30%, ",", transparent);\n        &::after {\n          content: ' ';\n          position: absolute;\n          height: 100%;\n          width: 100%;\n          background-image: url(\"",'");\n          background-repeat: no-repeat;\n          background-size: cover;\n          background-position: ',";\n        }\n      "]);return Tn=function(){return e},e}var Mn=new Map;Mn.set("5","right top"),Mn.set("19","right top"),Mn.set("23","left 80%");var Gn=function(e){var n=e.colorParam,t=e.charParam,r=e.align,a=e.theme,o=tn(n),c=Object(f.a)(o,1)[0],i=tn(t),u=Object(f.a)(i,1)[0],l="left"===r?"right":"left",s=function(e,n,t){var r=se(n,t);return"".concat(r,"/vs-").concat(e,".png")}(l,u,c),d=function(e,n,t){if("left"===e)return t;var r=Mn.get(n);return r||t}(l,u,"".concat(r," top"));return Object(F.d)("div",{css:Object(F.c)(Tn(),a,s,d)})};function Fn(){var e=Object(G.a)(["\n  color: ",";\n  background-color: ",";\n  text-align: center;\n  padding: 0.3em 0;\n  font-size: 1.2em;\n  box-shadow: 0.2em 0.2em 0.2em black;\n"]);return Fn=function(){return e},e}var Un=$.a.div(Fn(),(function(e){return e.color}),(function(e){return e.backgroundColor})),zn=(t(356),function(e){var n=e.text,t=e.onSetText,r=e.textAlign,c=e.placeholder,i=Object(a.useState)(!1),u=Object(f.a)(i,2),l=u[0],s=u[1],d=Object(a.useState)(n),m=Object(f.a)(d,2),b=m[0],g=m[1],p=o.a.useCallback((function(n){n!==l&&(n&&e.onFocus&&e.onFocus(),!n&&e.onBlur&&e.onBlur()),s(n)}),[l,e]),h=Object(a.useRef)(null),v=Object(a.useRef)(null),O=Object(a.useRef)(null),j=rn("Tab"),E=rn("Enter"),y=rn("Escape");return Object(a.useEffect)((function(){g(n)}),[n]),an(h,(function(){l&&(t(b),p(!1))})),Object(a.useEffect)((function(){l&&O.current&&O.current.focus()}),[l]),Object(a.useEffect)((function(){l&&((E||j)&&(t(b),p(!1)),y&&(g(e.text),p(!1)))}),[j,E,y,l,t,p,b,e.text]),o.a.createElement("span",{className:"inline-text",ref:h},o.a.createElement("span",{ref:v,onClick:function(){return p(!0)},className:"inline-text_copy inline-text_copy--".concat(l?"hidden":"active")},e.text||c),o.a.createElement("input",{ref:O,style:{textAlign:r,maxWidth:"100%"},value:b,onChange:function(e){g(e.target.value)},className:"inline-text_input inline-text_input--".concat(l?"active":"hidden")}))});function Bn(){var e=Object(G.a)(["\n  ",";\n  position: relative;\n  &:hover {\n    z-index: 10;\n  }\n"]);return Bn=function(){return e},e}zn.defaultProps={text:"",onSetText:function(){}};var Kn=Object($.a)(Un)(Bn(),(function(e){return be(e.show?1:0)})),Hn=function(e){var n=e.onEdit,t=e.backgroundColor,r=e.value,a=e.color,c=e.placeholder,i=o.a.useState(!1),u=Object(f.a)(i,2),l=u[0],s=u[1],d=l||Boolean(r);return o.a.createElement(Kn,{show:d,color:a,backgroundColor:t},o.a.createElement(zn,{text:r,onSetText:n,onFocus:function(){return s(!0)},onBlur:function(){return s(!1)},placeholder:c}))};function Vn(){var e=Object(G.a)(["\n  margin-top: -0.3rem;\n  margin-left: auto;\n  margin-right: auto;\n  width: 80%;\n  font-weight: 600;\n"]);return Vn=function(){return e},e}function Wn(){var e=Object(G.a)(["\n  font-size: 150%;\n  font-weight: 800;\n"]);return Wn=function(){return e},e}Hn.defaultProps={placeholder:"click to edit"};var Yn=$.a.div(Wn()),Xn=$.a.div(Vn()),Jn=function(e){var n=e.nameParam,t=e.subtitleParam,r=e.primaryColor,a=tn(n),c=Object(f.a)(a,2),i=c[0],u=c[1],l=tn(t),s=Object(f.a)(l,2),d=s[0],m=s[1];return o.a.createElement("div",null,o.a.createElement(Yn,null,o.a.createElement(Hn,{value:i,onEdit:u,color:"white",backgroundColor:r})),o.a.createElement(Xn,null,o.a.createElement(Hn,{value:d,onEdit:m,color:"black",backgroundColor:"white"})))},$n=t(36);function qn(){var e=Object(G.a)(["\n  ","\n"]);return qn=function(){return e},e}function Qn(){var e=Object(G.a)(['\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  &::after {\n    content: " ";\n    height: 100%;\n    background-repeat: no-repeat;\n    background-size: cover;\n    position: absolute;\n  }\n']);return Qn=function(){return e},e}function Zn(){var e=Object(G.a)(["\n  position: relative;\n  display: block;\n  border: solid 0.1rem ",";\n  height: 5rem;\n  width: 100%;\n  max-width: 10rem;\n  ","\n"]);return Zn=function(){return e},e}var et=$.a.div(Zn(),(function(e){return e.borderColor}),(function(e){return e.onClick?"cursor: pointer;":""})),nt=$.a.div(Qn()),tt=Object($.a)(nt)(qn(),(function(e){var n=100-e.waypoint;return"\n      ".concat("right"===e.side?"clip-path: polygon(".concat(e.waypoint,"% 0, 100% 0, 100% 100%, ").concat(n,"% 100%);"):"","\n      ").concat(e.dim?"filter: brightness(25%);":"","\n      ").concat(e.backgroundColor?"background: radial-gradient(circle at center -30%, ".concat(e.backgroundColor,", black);"):"","\n      &::after {\n        width: ").concat(e.waypoint,'%;\n        background-image: url("').concat(e.imageSrc,'");\n        background-position: top ').concat(e.side,";\n        ").concat("right"===e.side?"left: ".concat(n,"%;"):"transform: scaleX(-1);","\n      }\n    ")})),rt=function(e){var n=e.char1,t=e.color1,r=e.result1,a=e.char2,c=e.color2,i=e.result2,u=e.leftColor,l=e.rightColor,s=e.borderColor,d=e.onClick,f=de(n,t),m=de(a,c);return o.a.createElement(et,{borderColor:s||"transparent",onClick:function(){d&&d()}},o.a.createElement(tt,{backgroundColor:u,imageSrc:f,waypoint:55,side:"left",dim:"loser"===r}),o.a.createElement(tt,{backgroundColor:l,imageSrc:m,waypoint:55,side:"right",dim:"loser"===i}))};function at(){var e=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 9rem;\n  width: 100%;\n  border: solid 1px ",";\n  z-index: 0;\n\n  &::after {\n    content: ' ';\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-image: url(\"",'");\n    background-repeat: no-repeat;\n    background-size: 105% auto;\n    background-position: center;\n    filter: blur(2px) brightness(30%);\n    z-index: -1;\n  }\n']);return at=function(){return e},e}function ot(){var e=Object(G.a)(["\n  font-size: 2.5rem;\n  font-weight: bold;\n  opacity: 0.7;\n  text-shadow: 2px 2px 2px black;\n"]);return ot=function(){return e},e}var ct=$.a.span(ot()),it=$.a.div(at(),(function(e){return e.borderColor}),(function(e){return e.src})),ut=function(e){var n=e.stageId,t=e.duration,r=e.borderColor,a=function(e){var n=m.stages.getStageName(+e);return"".concat("/slippi-stats","/images/stages/").concat(n,".png")}(n);return o.a.createElement(it,{src:a,borderColor:r||"transparent"},o.a.createElement(ct,null,t))};function lt(){var e=Object(G.a)(["\n        display: grid;\n        grid-template-columns: 100%;\n        justify-items: center;\n        width: 100%;\n        max-width: 18rem;\n        grid-row-gap: 2rem;\n      "]);return lt=function(){return e},e}var st=function(e){return"winner"===e?"loser":"loser"===e?"winner":e},dt=function(e){var n=e.gameInfo,t=e.onGameInfoChange;if(!n)return null;var r="winner"===n.result1?"left":"winner"===n.result2?"right":"",a=e.winningSide===r,o=n.stageId,c=n.duration,i=Object($n.a)(n,["stageId","duration"]),u="rgba(255, 255, 255, ".concat(a?1:.2,")");return Object(F.d)("div",{css:Object(F.c)(lt())},Object(F.d)(rt,Object.assign({onClick:function(){t({result1:st(n.result1),result2:st(n.result2)})},leftColor:e.leftColor,rightColor:e.rightColor,borderColor:u},i)),Object(F.d)(ut,{stageId:o,duration:c,borderColor:u}))};function ft(){var e=Object(G.a)(["\n        display: grid;\n        grid-column-gap: 2rem;\n        grid-template-columns: repeat(",", 1fr);\n        justify-items: center;\n      "]);return ft=function(){return e},e}var mt=function(e){return Object(F.d)("div",{css:Object(F.c)(ft(),e.games.length)},e.games.map((function(n,t){return Object(F.d)(dt,{key:"game".concat(t),gameInfo:n,onGameInfoChange:function(n){return e.updateGameInfo(t+1,n)},leftColor:e.leftColor,rightColor:e.rightColor,winningSide:e.winningSide})})))};function bt(){var e=Object(G.a)(["\n          width: 100%;\n          justify-self: end;\n          text-align: right;\n        "]);return bt=function(){return e},e}function gt(){var e=Object(G.a)(["\n          width: 100%;\n          justify-self: start;\n        "]);return gt=function(){return e},e}function pt(){var e=Object(G.a)(['\n  display: grid;\n  grid-template-columns: 20% 60% 20%;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  &::before {\n    z-index: -1;\n    content: "";\n    display: block;\n    background-image: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.4), transparent);\n    height: 0.1rem;\n    position: absolute;\n    width: 80%;\n    margin-left: 50%;\n    transform: translate(-50%, -50%);\n  }\n']);return pt=function(){return e},e}function ht(){var e=Object(G.a)(["\n  font-size: 1.4em;\n"]);return ht=function(){return e},e}function vt(){var e=Object(G.a)(["\n  width: 100%;\n  font-weight: 800;\n  font-size: 2.3em;\n"]);return vt=function(){return e},e}function Ot(){var e=Object(G.a)(["\n  padding: 0.3em 2.5em;\n  font-weight: 700;\n  font-size: 1.2em;\n  justify-self: center;\n"]);return Ot=function(){return e},e}var jt=Object($.a)(Un)(Ot()),Et=$.a.div(vt()),yt=Object($.a)(Et)(ht()),Ct=$.a.div(pt()),wt=function(e){var n=e.label,t=e.backgroundColor,r=e.color,a=e.leftComponent,o=e.rightComponent;return Object(F.d)(Ct,null,Object(F.d)("div",{css:Object(F.c)(gt())},a),Object(F.d)(jt,{backgroundColor:t,color:r},n),Object(F.d)("div",{css:Object(F.c)(bt())},o))};wt.defaultProps={color:"black",backgroundColor:"white"};var xt=function(e){var n=e.leftComponent,t=e.rightComponent,r=Object($n.a)(e,["leftComponent","rightComponent"]);return Object(F.d)(wt,Object.assign({leftComponent:Object(F.d)(Et,null,n),rightComponent:Object(F.d)(Et,null,t)},r))},kt=function(e){var n=e.leftComponent,t=e.rightComponent,r=Object($n.a)(e,["leftComponent","rightComponent"]);return Object(F.d)(wt,Object.assign({leftComponent:Object(F.d)(yt,null,n),rightComponent:Object(F.d)(yt,null,t)},r))},St=function(e){var n=e.param1,t=e.param2,r=e.label,a=tn(n,"0"),c=Object(f.a)(a,2),i=c[0],u=c[1],l=tn(t,"0"),s=Object(f.a)(l,2),d=s[0],m=s[1];return o.a.createElement(xt,{label:r,color:"black",backgroundColor:"white",leftComponent:o.a.createElement(zn,{text:i,onSetText:u}),rightComponent:o.a.createElement(zn,{text:d,textAlign:"right",onSetText:m})})},It=function(e){var n=e.param1,t=e.param2,r=e.label,a=e.primaryColor,c=tn(n,"-"),i=Object(f.a)(c,2),u=i[0],l=i[1],s=tn(t,"-"),d=Object(f.a)(s,2),m=d[0],b=d[1];return o.a.createElement(kt,{label:r,color:"white",backgroundColor:a,leftComponent:o.a.createElement(zn,{text:u,onSetText:l}),rightComponent:o.a.createElement(zn,{text:m,textAlign:"right",onSetText:b})})},Lt=function(e){return o.a.createElement(It,Object.assign({param1:"mckm1",param2:"mckm2",label:"MOST COMMON KILL MOVE"},e))},Rt=function(e){return o.a.createElement(It,Object.assign({param1:"mcno1",param2:"mcno2",label:"MOST COMMON NEUTRAL OPENER"},e))},Pt=function(){return o.a.createElement(St,{param1:"akp1",param2:"akp2",label:"AVERAGE KILL PERCENT"})},Nt=function(){return o.a.createElement(St,{param1:"nw1",param2:"nw2",label:"NEUTRAL WINS"})},At=function(){return o.a.createElement(St,{param1:"opk1",param2:"opk2",label:"OPENINGS / KILL"})},_t=function(){return o.a.createElement(St,{param1:"tdd1",param2:"tdd2",label:"TOTAL DAMAGE DONE"})};function Dt(){var e=Object(G.a)(["\n          display: grid;\n          grid-template-columns: 100%;\n          grid-row-gap: 2rem;\n          margin: 4rem;\n        "]);return Dt=function(){return e},e}function Tt(){var e=Object(G.a)(["\n        background: linear-gradient(to right, ",", transparent, ",");\n        width: 100%;\n      "]);return Tt=function(){return e},e}function Mt(){var e=Object(G.a)(["\n  padding: 0.5rem 4rem;\n  font-size: 5rem;\n  font-weight: 800;\n  position: absolute;\n  bottom: -6rem;\n  left: 50%;\n  transform: translateX(-50%);\n"]);return Mt=function(){return e},e}function Gt(){var e=Object(G.a)(['\n  content: " ";\n  display: block;\n  height: 0.1rem;\n  width: 100%;\n  margin-top: 0.7rem;\n  background-color: rgba(255, 255, 255, 0.05);\n']);return Gt=function(){return e},e}var Ft=$.a.div(Gt()),Ut=Object($.a)(Un)(Mt()),zt=function(e){var n=function(){var e=Object(a.useState)([]),n=Object(f.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)({left:0,right:0}),c=Object(f.a)(o,2),i=c[0],u=c[1],l=Object(s.f)(),d=Object(s.g)();return Object(a.useEffect)((function(){for(var e=new URLSearchParams(d.search),n=e.get("gt")||"0",t=parseInt(n,10)||0,a=0,o=0,c=[],i=1;i<=t;i++){var l=e.get("g".concat(i));if(l){var s=l.split(","),m=Object(f.a)(s,8),b=m[0],g=m[1],p=m[2],h=m[3],v=m[4],O=m[5],j=m[6],E=m[7];c.push({stageId:b,duration:g,char1:p,color1:h,result1:v,char2:O,color2:j,result2:E}),"winner"===v&&(a+=1),"winner"===E&&(o+=1)}else c.push(null)}r(c),u({left:a,right:o})}),[d]),{games:t,score:i,setGame:function(e,n){var r=t[e-1],a=Object.assign({},r,n),o=[a.stageId,a.duration,a.char1,a.color1,a.result1,a.char2,a.color2,a.result2].join(","),c=new URLSearchParams(d.search);c.set("g".concat(e),o);var i="?"+c.toString();l.push({pathname:d.pathname,search:i})}}}(),t=n.games,r=n.score,o=n.setGame,c=r.left>r.right?"left":r.right>r.left?"right":"",i=e.leftColor,u=e.rightColor,l=Object($n.a)(e,["leftColor","rightColor"]);return Object(F.d)("div",{css:Object(F.c)(Tt(),e.secondaryColor,e.secondaryColor)},Object(F.d)("div",{css:Object(F.c)(Dt())},Object(F.d)(Lt,l),Object(F.d)(Rt,l),Object(F.d)(Ft,null),Object(F.d)(At,null),Object(F.d)(_t,null),Object(F.d)(Pt,null),Object(F.d)(Nt,null),Object(F.d)(Ft,null),Object(F.d)(mt,{games:t,updateGameInfo:o,winningSide:c,leftColor:i,rightColor:u})),Object(F.d)(Ut,{color:"white",backgroundColor:e.primaryColor},"".concat(r.left," - ").concat(r.right)))};function Bt(){var e=Object(G.a)(["\n          width: 100%;\n        "]);return Bt=function(){return e},e}function Kt(){var e=Object(G.a)(["\n          justify-self: end;\n          width: 100%;\n        "]);return Kt=function(){return e},e}function Ht(){var e=Object(G.a)(["\n  ","\n"]);return Ht=function(){return e},e}function Vt(){var e=Object(G.a)(["\n  position: relative;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 20% 60% 20%;\n"]);return Vt=function(){return e},e}var Wt=$.a.div(Vt()),Yt=$.a.div(Ht(),(function(e){return"\n  width: 20%;\n  position: absolute;\n  ".concat(e.align,": 0;\n  margin-").concat(e.align,": 2rem;\n  bottom: 15%;\n  ")})),Xt=function(e){var n=tn("leftColor",ke.P1),t=Object(f.a)(n,1)[0],r=tn("rightColor",ke.P2),a=Object(f.a)(r,1)[0];return Object(F.d)(Wt,null,Object(F.d)("div",{css:Object(F.c)(Kt())},Object(F.d)(Gn,{theme:t,charParam:"char1",colorParam:"color1",align:"right"})),Object(F.d)(zt,Object.assign({leftColor:t,rightColor:a},e)),Object(F.d)("div",{css:Object(F.c)(Bt())},Object(F.d)(Gn,{theme:a,charParam:"char2",colorParam:"color2",align:"left"})),Object(F.d)(Yt,{align:"left"},Object(F.d)(Jn,Object.assign({nameParam:"name1",subtitleParam:"sub1"},e))),Object(F.d)(Yt,{align:"right"},Object(F.d)(Jn,Object.assign({nameParam:"name2",subtitleParam:"sub2"},e))))},Jt=t(165),$t=t.n(Jt);function qt(){var e=Object(G.a)(["\n                max-height: 5rem;\n              "]);return qt=function(){return e},e}function Qt(){var e=Object(G.a)(["\n            margin-bottom: 2rem;\n          "]);return Qt=function(){return e},e}function Zt(){var e=Object(G.a)(["\n        width: 1700px;\n        height: 980px;\n        margin: 0 auto;\n      "]);return Zt=function(){return e},e}function er(){var e=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  &:hover {\n    .settings {\n      opacity: 1;\n    }\n  }\n  .settings {\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n  }\n"]);return er=function(){return e},e}var nr=$.a.div(er()),tr=function(){var e=tn("primaryColor"),n=Object(f.a)(e,1)[0],t=tn("secondaryColor"),r=Object(f.a)(t,1)[0];return Object(F.d)("div",{css:Object(F.c)(Zt())},Object(F.d)(nr,null,Object(F.d)(B,{primaryColor:n,secondaryColor:r}),Object(F.d)(l.b,{to:"/",title:"Home"},Object(F.d)(Z,null,"Post Match Stats")),Object(F.d)("div",{css:Object(F.c)(Qt())},Object(F.d)(q,{href:"https://slippi.gg"},Object(F.d)("img",{alt:"Powered by Slippi",title:"Open Slippi.gg homepage",src:$t.a,css:Object(F.c)(qt())}))),Object(F.d)(Xt,{primaryColor:n,secondaryColor:r}),Object(F.d)("div",{className:"settings"},Object(F.d)(Dn,null))))},rr=Object(u.hot)((function(){return o.a.createElement(J,null,o.a.createElement(l.a,{basename:"/slippi-stats"},o.a.createElement(s.b,{exact:!0,path:"/",component:We}),o.a.createElement(s.b,{path:"/render",component:tr}),o.a.createElement(s.b,{path:"/random",component:V})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(rr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.90656f71.chunk.js.map